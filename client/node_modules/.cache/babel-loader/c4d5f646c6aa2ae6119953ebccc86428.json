{"ast":null,"code":"import _classCallCheck from \"/home/sanath/ITS1/iCart/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/sanath/ITS1/iCart/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/sanath/ITS1/iCart/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/sanath/ITS1/iCart/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/sanath/ITS1/iCart/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/sanath/ITS1/iCart/client/src/components/datalist.js\";\nimport React from 'react';\nimport './../css/main.css'; // import Keyboard from \"react-simple-keyboard\";\n\nimport \"react-simple-keyboard/build/css/index.css\";\n\nvar Datalist =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Datalist, _React$Component);\n\n  function Datalist() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Datalist);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Datalist)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      // data: ['oreo','shampoo','lays','shoe'],\n      data: [],\n      productNames: [],\n      cart: [],\n      layoutName2: \"default\",\n      input2: \"\"\n    };\n\n    _this.getDataFromDb = function () {\n      fetch(\"http://localhost:3001/api/getData\").then(function (data) {\n        return data.json();\n      }).then(function (res) {\n        return _this.setState({\n          data: res.data\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.getProductNames = function () {\n      _this.state.data.forEach(function (element) {\n        if (!_this.state.productNames.includes(element.productName)) _this.state.productNames.push(element.productName);\n      });\n    };\n\n    _this.add = function () {\n      // document.getElementById('keys').style.display = \"none\"\n      var e = document.getElementById(\"itemName\");\n      if (!_this.state.cart.includes(e.value) && e.value) _this.state.cart.push(e.value);\n\n      _this.props.getCart(_this.state.cart);\n\n      _this.props.getData(_this.state.data);\n\n      console.log(_this.state.cart.length);\n      e.value = \"\";\n    };\n\n    return _this;\n  }\n\n  _createClass(Datalist, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getDataFromDb(); // if (!this.state.intervalIsSet) {\n      //     let interval = setInterval(this.getDataFromDb, 10000);\n      //     this.setState({ intervalIsSet: interval });\n      // }\n      // console.log(this.state.data);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {// if (this.state.intervalIsSet) {\n      //    clearInterval(this.state.intervalIsSet);\n      //    this.setState({ intervalIsSet: null });\n      // }\n    }\n  }, {\n    key: \"render\",\n    // showKeyboard2(){\n    //    document.getElementById('keys').style.display = \"initial\"\n    // }\n    value: function render() {\n      this.getProductNames();\n      var productNames = this.state.productNames;\n      return React.createElement(\"div\", {\n        className: \"datalist\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"datalistInput\",\n        id: \"itemName\",\n        type: \"text\",\n        list: \"data\",\n        placeholder: \"Search an item\" // value={this.state.input2}\n        // onChange={e => this.onChangeInput2(e)}\n        // onFocus={this.showKeyboard2}\n        ,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }), React.createElement(\"datalist\", {\n        id: \"data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, productNames.length <= 0 ? 'No data' : productNames.map(function (item) {\n        return React.createElement(\"option\", {\n          value: item,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        });\n      })), React.createElement(\"button\", {\n        className: \"itemAdd\",\n        onClick: this.add,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \"Add\"));\n    }\n  }]);\n\n  return Datalist;\n}(React.Component);\n\nexport default Datalist;","map":{"version":3,"sources":["/home/sanath/ITS1/iCart/client/src/components/datalist.js"],"names":["React","Datalist","state","data","productNames","cart","layoutName2","input2","getDataFromDb","fetch","then","json","res","setState","catch","err","console","log","getProductNames","forEach","element","includes","productName","push","add","e","document","getElementById","value","props","getCart","getData","length","map","item","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,mBAAP,C,CACA;;AACA,OAAO,2CAAP;;IAEMC,Q;;;;;;;;;;;;;;;;;UACHC,K,GAAQ;AACL;AACAC,MAAAA,IAAI,EAAE,EAFD;AAGLC,MAAAA,YAAY,EAAE,EAHT;AAILC,MAAAA,IAAI,EAAE,EAJD;AAKLC,MAAAA,WAAW,EAAE,SALR;AAMLC,MAAAA,MAAM,EAAE;AANH,K;;UAwBRC,a,GAAgB,YAAM;AAChBC,MAAAA,KAAK,CAAC,mCAAD,CAAL,CACCC,IADD,CACM,UAAAP,IAAI;AAAA,eAAIA,IAAI,CAACQ,IAAL,EAAJ;AAAA,OADV,EAECD,IAFD,CAEM,UAAAE,GAAG;AAAA,eAAI,MAAKC,QAAL,CAAc;AAAEV,UAAAA,IAAI,EAAES,GAAG,CAACT;AAAZ,SAAd,CAAJ;AAAA,OAFT,EAGCW,KAHD,CAGO,UAAAC,GAAG;AAAA,eAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ;AAAA,OAHV;AAIL,K;;UACDG,e,GAAkB,YAAM;AACrB,YAAKhB,KAAL,CAAWC,IAAX,CAAgBgB,OAAhB,CAAwB,UAAAC,OAAO,EAAI;AAChC,YAAG,CAAC,MAAKlB,KAAL,CAAWE,YAAX,CAAwBiB,QAAxB,CAAiCD,OAAO,CAACE,WAAzC,CAAJ,EACA,MAAKpB,KAAL,CAAWE,YAAX,CAAwBmB,IAAxB,CAA6BH,OAAO,CAACE,WAArC;AACF,OAHD;AAIF,K;;UAgCDE,G,GAAM,YAAM;AACT;AACA,UAAIC,CAAC,GAAGC,QAAQ,CAACC,cAAT,CAAwB,UAAxB,CAAR;AACA,UAAG,CAAC,MAAKzB,KAAL,CAAWG,IAAX,CAAgBgB,QAAhB,CAAyBI,CAAC,CAACG,KAA3B,CAAD,IAAuCH,CAAC,CAACG,KAA5C,EACG,MAAK1B,KAAL,CAAWG,IAAX,CAAgBkB,IAAhB,CAAqBE,CAAC,CAACG,KAAvB;;AACH,YAAKC,KAAL,CAAWC,OAAX,CAAmB,MAAK5B,KAAL,CAAWG,IAA9B;;AACA,YAAKwB,KAAL,CAAWE,OAAX,CAAmB,MAAK7B,KAAL,CAAWC,IAA9B;;AACAa,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAKf,KAAL,CAAWG,IAAX,CAAgB2B,MAA5B;AACAP,MAAAA,CAAC,CAACG,KAAF,GAAU,EAAV;AACF,K;;;;;;;wCAnEmB;AACd,WAAKpB,aAAL,GADc,CAEd;AACA;AACA;AACA;AACA;AACL;;;2CAEsB,CACjB;AACA;AACA;AACA;AACL;;;AAsDD;AACA;AACA;6BACS;AACN,WAAKU,eAAL;AADM,UAEEd,YAFF,GAEmB,KAAKF,KAFxB,CAEEE,YAFF;AAGN,aACG;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG;AACG,QAAA,SAAS,EAAC,eADb;AAEG,QAAA,EAAE,EAAG,UAFR;AAGG,QAAA,IAAI,EAAC,MAHR;AAIG,QAAA,IAAI,EAAC,MAJR;AAKG,QAAA,WAAW,EAAC,gBALf,CAMG;AACA;AACA;AARH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADH,EAWG;AAAU,QAAA,EAAE,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACIA,YAAY,CAAC4B,MAAb,IAAsB,CAAtB,GACI,SADJ,GAEI5B,YAAY,CAAC6B,GAAb,CAAiB,UAACC,IAAD;AAAA,eACnB;AAAQ,UAAA,KAAK,EAAEA,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADmB;AAAA,OAAjB,CAHR,CAXH,EAkBG;AAAQ,QAAA,SAAS,EAAC,SAAlB;AAA4B,QAAA,OAAO,EAAE,KAAKV,GAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAlBH,CADH;AA+BF;;;;EAnHmBxB,KAAK,CAACmC,S;;AAqH7B,eAAelC,QAAf","sourcesContent":["import React from 'react';\nimport './../css/main.css';\n// import Keyboard from \"react-simple-keyboard\";\nimport \"react-simple-keyboard/build/css/index.css\";\n\nclass Datalist extends React.Component {\n   state = {\n      // data: ['oreo','shampoo','lays','shoe'],\n      data: [],\n      productNames: [],\n      cart: [],\n      layoutName2: \"default\",\n      input2: \"\"\n   }\n   \n   componentDidMount() {\n         this.getDataFromDb();\n         // if (!this.state.intervalIsSet) {\n         //     let interval = setInterval(this.getDataFromDb, 10000);\n         //     this.setState({ intervalIsSet: interval });\n         // }\n         // console.log(this.state.data);\n   }\n\n   componentWillUnmount() {\n         // if (this.state.intervalIsSet) {\n         //    clearInterval(this.state.intervalIsSet);\n         //    this.setState({ intervalIsSet: null });\n         // }\n   }\n   getDataFromDb = () => {\n         fetch(\"http://localhost:3001/api/getData\")\n         .then(data => data.json())\n         .then(res => this.setState({ data: res.data }))\n         .catch(err => console.log(err));\n   };\n   getProductNames = () => {\n      this.state.data.forEach(element => {\n         if(!this.state.productNames.includes(element.productName))\n         this.state.productNames.push(element.productName)\n      })\n   }\n   // onChange2 = input2 => {\n   //    this.setState({\n   //      input2: input2\n   //    });\n   //    console.log(\"Input changed\", input2);\n   //  };\n  \n   //  onKeyPress2 = button2 => {\n   //    console.log(\"Button pressed\", button2);\n   //    if (button2 === \"{shift}\" || button2 === \"{lock}\") this.handleShift2();\n   //  };\n  \n   //  handleShift2 = () => {\n   //    let layoutName2 = this.state.layoutName2;\n   //    this.setState({\n   //      layoutName2: layoutName2 === \"default\" ? \"shift\" : \"default\"\n   //    });\n   //  };\n  \n   //  onChangeInput2 = event2 => {\n   //    let input2 = event2.target.value;\n   //    this.setState(\n   //      {\n   //        input2: input2\n   //      },\n   //      () => {\n   //        this.keyboard2.setInput2(input2);\n   //      }\n   //    );\n   //    console.log(\"came here\")\n   //  };\n   add = () => {\n      // document.getElementById('keys').style.display = \"none\"\n      var e = document.getElementById(\"itemName\")\n      if(!this.state.cart.includes(e.value) && (e.value))\n         this.state.cart.push(e.value)\n      this.props.getCart(this.state.cart)\n      this.props.getData(this.state.data)\n      console.log(this.state.cart.length)\n      e.value = \"\"\n   }\n   // showKeyboard2(){\n   //    document.getElementById('keys').style.display = \"initial\"\n   // }\n   render() {\n      this.getProductNames()\n      const { productNames } = this.state\n      return (\n         <div className=\"datalist\">\n            <input \n               className=\"datalistInput\"\n               id = \"itemName\"\n               type=\"text\"\n               list=\"data\"\n               placeholder=\"Search an item\"\n               // value={this.state.input2}\n               // onChange={e => this.onChangeInput2(e)}\n               // onFocus={this.showKeyboard2}\n            />\n            <datalist id=\"data\">\n               {productNames.length <=0\n                  ? 'No data'\n                  : productNames.map((item) =>\n                  <option value={item} />\n               )}\n            </datalist>\n            <button className=\"itemAdd\" onClick={this.add}>Add</button>\n            {/* <div id=\"keys\" class='keyboard' style={{display: \"none\"}}>\n               <Keyboard\n                  style={{margin: 0}}\n                  ref={r2 => (this.keyboard2 = r2)}\n                  layoutName={this.state.layoutName2}\n                  onChange={input2 => this.onChange2(input2)}\n                  onKeyPress={button2 => this.onKeyPress2(button2)}\n               />\n            </div> */}\n         </div>\n      );\n   }\n}\nexport default Datalist;"]},"metadata":{},"sourceType":"module"}