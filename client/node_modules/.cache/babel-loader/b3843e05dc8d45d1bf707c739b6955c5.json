{"ast":null,"code":"import _classCallCheck from \"/home/sanath/ITS1/iCart/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/sanath/ITS1/iCart/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/sanath/ITS1/iCart/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/sanath/ITS1/iCart/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/sanath/ITS1/iCart/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/sanath/ITS1/iCart/client/src/components/graph.js\";\nimport React from 'react';\nimport './../css/main.css';\nimport axios from \"axios\"; // function getUniqueIds(){\n//     var limit = 5, lower_bound = 0, upper_bound = 5, unique_random_numbers = [];\n//     while (unique_random_numbers.length < limit) {\n//         var random_number = Math.floor(Math.random()*(upper_bound - lower_bound) + lower_bound);\n//         if (unique_random_numbers.indexOf(random_number) === -1) { \n//             unique_random_numbers.push( random_number );\n//         }\n//     }\n//     return unique_random_numbers\n// }\n\nvar nodes = [{\n  x: 50,\n  y: 25\n}, {\n  x: 125,\n  y: 25\n}, {\n  x: 200,\n  y: 25\n}, {\n  x: 200,\n  y: 75\n}, {\n  x: 125,\n  y: 75\n}, {\n  x: 50,\n  y: 75\n}];\nvar path = [5, 0, 1, 4, 3]; // const path = setInterval(getUniqueIds()\n\nvar Graph =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Graph, _React$Component);\n\n  function Graph() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Graph);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Graph)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      intervalIsSet: false\n    };\n\n    _this.getPathFromDb = function () {\n      axios.post(\"http://localhost:3001/api/getPath\", {\n        source: 0,\n        data: [1, 3]\n      }).then(function (res) {\n        return console.log(res.data);\n      }) // .then(data => data.json())\n      // .then(res => this.setState({ data: res.data }))\n      .catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.updateCanvas = function () {\n      var ctx = _this.refs.canvas.getContext('2d');\n\n      for (var i = 0; i < 6; i++) {\n        ctx.fillRect(nodes[i].x, nodes[i].y, 5, 5);\n      }\n\n      for (i = 0; i < 3; i++) {\n        ctx.font = \"Arial\";\n        ctx.fillText(i + 1, nodes[i].x, nodes[i].y - 2);\n      }\n\n      for (i = 3; i < 6; i++) {\n        ctx.font = \"Arial\";\n        ctx.fillText(i + 1, nodes[i].x, nodes[i].y + 14);\n      }\n\n      ctx.beginPath();\n      ctx.moveTo(nodes[0].x + 2.5, nodes[0].y + 2.5);\n\n      for (i = 0; i < 6; i++) {\n        ctx.lineTo(nodes[(i + 1) % 6].x + 2.5, nodes[(i + 1) % 6].y + 2.5);\n      }\n\n      ctx.moveTo(nodes[1].x + 2.5, nodes[1].y + 2.5);\n      ctx.lineTo(nodes[4].x + 2.5, nodes[4].y + 2.5);\n      ctx.strokeStyle = \"black\";\n      ctx.stroke();\n      ctx.beginPath();\n      ctx.strokeStyle = \"red\";\n\n      for (i = 0; i < path.length - 1; i++) {\n        ctx.moveTo(nodes[path[i]].x + 2.5, nodes[path[i].y + 2.5]);\n        ctx.lineTo(nodes[path[i + 1]].x + 2.5, nodes[path[i + 1]].y + 2.5); // console.log(i+''+(i+1))\n      }\n\n      ctx.stroke();\n    };\n\n    return _this;\n  }\n\n  _createClass(Graph, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getPathFromDb();\n      this.updateCanvas();\n\n      if (!this.state.intervalIsSet) {\n        var interval = setInterval(this.updateCanvas, 10000);\n        this.setState({\n          intervalIsSet: interval\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.state.intervalIsSet) {\n        clearInterval(this.state.intervalIsSet);\n        this.setState({\n          intervalIsSet: null\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"graph\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"canvas\", {\n        id: \"theCanvas\",\n        ref: \"canvas\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Graph;\n}(React.Component);\n\nexport default Graph;","map":{"version":3,"sources":["/home/sanath/ITS1/iCart/client/src/components/graph.js"],"names":["React","axios","nodes","x","y","path","Graph","state","intervalIsSet","getPathFromDb","post","source","data","then","res","console","log","catch","err","updateCanvas","ctx","refs","canvas","getContext","i","fillRect","font","fillText","beginPath","moveTo","lineTo","strokeStyle","stroke","length","interval","setInterval","setState","clearInterval","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './../css/main.css';\nimport axios from \"axios\";\n// function getUniqueIds(){\n//     var limit = 5, lower_bound = 0, upper_bound = 5, unique_random_numbers = [];\n//     while (unique_random_numbers.length < limit) {\n//         var random_number = Math.floor(Math.random()*(upper_bound - lower_bound) + lower_bound);\n//         if (unique_random_numbers.indexOf(random_number) === -1) { \n//             unique_random_numbers.push( random_number );\n//         }\n//     }\n//     return unique_random_numbers\n// }\n\nconst nodes = [{x:50,y:25},{x:125,y:25},{x:200,y:25},{x:200,y:75},{x:125,y:75},{x:50,y:75}]\nconst path = [5, 0, 1, 4, 3]\n// const path = setInterval(getUniqueIds()\n\nclass Graph extends React.Component {\n    state = {\n        intervalIsSet: false,\n    };\n    componentDidMount() {\n        this.getPathFromDb();\n        this.updateCanvas();\n        if (!this.state.intervalIsSet) {\n            let interval = setInterval(this.updateCanvas, 10000);\n            this.setState({ intervalIsSet: interval });\n        }\n    }\n    componentWillUnmount() {\n        if (this.state.intervalIsSet) {\n            clearInterval(this.state.intervalIsSet);\n            this.setState({ intervalIsSet: null });\n        }\n    }\n    getPathFromDb = () => {\n        axios.post(\"http://localhost:3001/api/getPath\",{source:0,data:[1,3]})\n        .then(res => console.log(res.data))\n        // .then(data => data.json())\n        // .then(res => this.setState({ data: res.data }))\n        .catch(err => console.log(err));\n    };\n    updateCanvas = () => {\n        const ctx = this.refs.canvas.getContext('2d');\n        for( var i=0; i<6; i++){\n            ctx.fillRect(nodes[i].x, nodes[i].y, 5, 5);\n        }\n        for(i=0; i<3; i++){\n            ctx.font = \"Arial\";\n            ctx.fillText(i+1, nodes[i].x, nodes[i].y-2);\n        }\n        for(i=3; i<6; i++){\n            ctx.font = \"Arial\";\n            ctx.fillText(i+1, nodes[i].x, nodes[i].y+14);\n        }\n        ctx.beginPath();\n        ctx.moveTo(nodes[0].x+2.5, nodes[0].y+2.5)\n        for( i=0; i<6; i++){\n            ctx.lineTo(nodes[(i+1)%6].x+2.5, nodes[(i+1)%6].y+2.5)\n        }\n        ctx.moveTo(nodes[1].x+2.5, nodes[1].y+2.5)\n        ctx.lineTo(nodes[4].x+2.5, nodes[4].y+2.5)\n        ctx.strokeStyle = \"black\"\n        ctx.stroke()\n\n        ctx.beginPath();\n        ctx.strokeStyle = \"red\"\n        for(i=0; i < path.length-1; i++){\n            ctx.moveTo(nodes[path[i]].x+2.5, nodes[path[i].y+2.5])\n            ctx.lineTo(nodes[path[i+1]].x+2.5, nodes[path[i+1]].y+2.5)\n            // console.log(i+''+(i+1))\n        }\n        ctx.stroke()\n    }\n    render() {\n      return (\n         <div className=\"graph\">\n            <canvas id=\"theCanvas\" ref=\"canvas\"></canvas>\n         </div>\n      );\n   }\n}\nexport default Graph;\n"]},"metadata":{},"sourceType":"module"}